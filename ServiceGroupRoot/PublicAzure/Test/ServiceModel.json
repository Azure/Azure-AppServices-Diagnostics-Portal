{
  "$schema": "https://ev2schema.azure.net/schemas/2020-01-01/serviceModel.json",
  "serviceMetadata": {
    "serviceGroup": "DiagnosticsBackend",
    "environment": "Test"
  },
  "serviceResourceGroupDefinitions": [
    {
      "name": "WebAppResourceGroupDefinitions",
      "serviceResourceDefinitions": [
        {
          "name": "WebAppDefinitionV2",
          "composedOf": {
            "arm": {
              "templatePath": "Templates\\DeployWebAppV2.json",
              "parametersPath": "Parameters\\MultiRegion.WebApp.Parameters.json"
            }
          }
        },
        {
          "name": "ZipDeployDefinition",
          "composedOf": {
            "arm": {
              "templatePath": "Templates\\WebAppZipDeploy.json",
              "parametersPath": "Parameters\\ZipDeploy.Parameters.json"
            }
          }
        },
        {
            "name": "AutoSwapDefinition",
            "composedOf": {
                "arm": {
                    "templatePath": "Templates\\AutoSwap.json",
                    "parametersPath": "Parameters\\AutoSwap.Parameters.json"
                }
            }
        },
        {
          "name": "ApplensAppSettingsDefinition",
          "composedOf": {
            "arm": {
              "templatePath": "Templates\\AppLens.AppSettings.Template.json",
              "parametersPath": "Parameters\\AppLens.AppSettings.Parameters.json"
            }
          }
        },
        {
          "name": "ApplensAppSettingsStagingDefinition",
          "composedOf": {
            "arm": {
              "templatePath": "Templates\\AppLens.AppSettings-Staging.Template.json",
              "parametersPath": "Parameters\\AppLens.AppSettings.Parameters.json"
            }
          }
        }
      ]
    }
  ],
  "serviceResourceGroups": [
    {
      "azureResourceGroupName": "DiagnosticBackendPublicAzure",
      "location": "West US",
      "instanceOf": "WebAppResourceGroupDefinitions",
      "azureSubscriptionId": "6a205b0a-6b5a-4346-8468-f4b6367f7efa",
      "scopeTags": [
        {
          "name": "General"
        },
        {
          "name": "PublicAzure"
        }
      ],
      "serviceResources": [
        {
          "name": "AppSettingsUpdate",
          "instanceOf": "ApplensAppSettingsDefinition",
          "scopeTags": [
            {
              "name": "Applens"
            }
          ]
        },
        {
          "name": "AppSettingsStagingUpdate",
          "instanceOf": "ApplensAppSettingsStagingDefinition",
          "scopeTags": [
            {
              "name": "Applens"
            }
          ]
        },        
        {
          "name": "ApplensZipDeploy",
          "instanceOf": "ZipDeployDefinition",
          "scopeTags": [
            {
              "name": "Applens"
            }
          ]
        },
        {
          "name": "ApplensSwap",
          "instanceOf": "AutoSwapDefinition",
          "scopeTags": [
            {
              "name": "Applens"
            }
          ]
        }
      ]
    }
  ]
}