<div class="solution-container">

  <div *ngIf="solution.Descriptions && solution.Descriptions.length !== 0" class="solution-description">
    <markdown *ngFor="let description of solution.Descriptions" [data]="description"></markdown>
  </div>

  <div *ngIf="!solution.IsInternal; else internal_solution" class="solution-action">
    <div *ngIf="solution.RequiresConfirmation; else dont_confirm_buttons" class="confirm-buttons">
      <h3>{{solution.Title}}?</h3>
      <div class="action-buttons">
        <button type="button" class="custom-button deny">No, Don't {{solution.Title}}</button>
        <button type="button" (click)="performAction()" class="custom-button confirm">
          Yes, {{solution.Title}}
        </button>
      </div>
    </div>

    {{actionStatus}}
    <span *ngIf="actionStatus === 'Running...'">
      <i class="fa fa-circle-o-notch fa-spin spin-icon" aria-hidden="true"></i>
    </span>
    <span *ngIf="actionStatus === 'Complete!'">
      <i class="fa fa-check-circle" aria-hidden="true"></i>
    </span>
  </div>

</div>

<ng-template #internal_solution>
    <div class="internal-instructions">
      <div (click)="copyInstructions(solution.InternalInstructions)" class="copy-instructions">
        <i class="fa fa-files-o" aria-hidden="true"></i>
        {{copyText}}
      </div>
      <div class="markdown">
        <markdown [data]="solution.InternalInstructions"></markdown>
      </div>
    </div>
</ng-template>

<ng-template #dont_confirm_buttons>
  <div class="action-buttons">
    <button (click)="performAction()" type="button" class="custom-button">{{solution.Title}}</button>
  </div>
</ng-template>
