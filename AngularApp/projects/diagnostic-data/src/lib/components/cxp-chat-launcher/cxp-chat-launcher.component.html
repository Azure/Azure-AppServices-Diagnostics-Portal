<div #chatComponentContainer *ngIf="isComponentInitialized()">
  <div class="cxpChat-ConfContainer" *ngIf="showChatConfDialog">
    <div class = "cxpChat-CloseIconBackground">
      <i role="button" aria-label="Close chat dialogue" title="Close" class="fa fa-times-circle cxpChat-CloseIcon" (click)="hideChatConfDialog(true, 'CloseIcon')"></i>
	</div>
    <div class="cxpChat-ConfText">
      <div>
        <img src="assets/img/jen.jpg" class="agentImage">
        <span class="agentName"> Jen </span>
      </div>
      <hr>
      <div>
        <markdown ngPreserveWhitespaces [data]="chatWelcomeMessage"></markdown>        
      </div>
      <br/>
      <div *ngIf="showDiagnosticsConsentOption" class="cxpChat-ConsentContainer">
        <div class="cxpChat-ConsentOptionContainer">
          <div>
            <input id="chkBoxDiagnosticConsent" type="checkbox" [(ngModel)]="diagnosticLogsConsent">
          </div>
          <div class="cxpChat-ConsentText">
            <label for="chkBoxDiagnosticConsent">Share diagnostic information.</label>
          </div>
        </div>
          <div>
          <a target="_blank" role="link" aria-label="Click to learn more about the information we collect" title="Click to learn more about the information we collect."
           href="https://azure.microsoft.com/en-us/support/legal/support-diagnostic-information-collection/">
            <i class="fa fa-info-circle"></i>
          </a>
        </div>
      </div>
    </div>
    <div *ngIf="showChatButtons" class="cxpChat-actionBtnContainer">
      <input class="custom-button inactive-button white-border" (click)="hideChatConfDialog(true, 'CancelButton')" type="button" role="button"
        aria-label="Maybe later" value="Maybe later" />
      <input class="custom-button default-button white-border" (click)="openChatPopup()" type="button" role="button"
        aria-label="Confirm and Start" value="Confirm & Start!" />
    </div>
  </div>

  <div *ngIf="showChatConfDialog" class="arrow-bottom"></div>

  <div class='chatBubble' (click)="toggleChatConfDialog()">
    <i class="fa fa-comments chatIcon" aria-hidden="true"></i>
  </div>
</div>