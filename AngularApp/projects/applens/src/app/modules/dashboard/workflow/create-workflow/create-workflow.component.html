<div class="form-group row" [hidden]="true">
  <button class="btn btn-sm btn-primary ml-2" (click)="showFlowData()">View Json</button>
</div>

<div *ngIf="loadingCode">
  <fab-spinner [label]="'Loading...'"></fab-spinner>
</div>

<div style="height:100%">
  <form>
    <div class="form-row">
      <div class="form-group col-md-3">
        <label for="workflowId">Id</label>
        <input name="workflowId" class="form-control input-sm" placeholder="Workflow Id" [(ngModel)]="publishBody.Id">
      </div>
      <div class="form-group col-md-3">
        <label for="workflowName">Name</label>
        <input class="form-control input-sm" name="workflowName" placeholder="Workflow Name"
          [(ngModel)]="publishBody.WorkflowName">
      </div>
      <div class="form-group col-md-3">
        <label for="description">Description</label>
        <input class="form-control  input-sm" name="description" placeholder="Workflow description"
          [(ngModel)]="publishBody.Description">
      </div>

      <div class="form-group col-md-3">
        <label for="workflowAuthor">Author</label>
        <input class="form-control input-sm" name="workflowAuthor" placeholder="Enter your alias"
          [(ngModel)]="publishBody.Author">
      </div>

    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="internalOnly">Internal Only</label>
        <select name="internalOnly" class="form-control input-sm" [(ngModel)]="publishBody.IsInternal">
          <option [ngValue]="false">false</option>
          <option [ngValue]="true">true</option>
        </select>
      </div>
      <div class="form-group col-md-6">
        <label for="category">Category</label>
        <input name="category" class="form-control input-sm" [(ngModel)]="publishBody.Category">
      </div>
    </div>

    <div class="form-row" *ngIf="!publishBody.IsInternal">
      <div class="form-group col-md-12">
        <label for="internalOnly">Support Topics</label>
        <table class="table table-bordered">
          <thead>
            <th>Id</th>
            <th>PesId</th>
            <th>SapSupportTopicId</th>
            <th>SapPesId</th>
            <th>Action</th>
          </thead>
          <tbody>
            <tr *ngFor="let st of publishBody.SupportTopicList">
              <td>{{ st.id}}</td>
              <td>{{ st.pesId }}</td>
              <td>{{ st.sapSupportTopicId }}</td>
              <td>{{ st.sapPesId }}</td>
              <td><button class="btn btn-sm" (click)="deleteSupportTopic(st.id)">Delete</button></td>
            </tr>
            <tr>
              <td><input type="text" name="txtId" [(ngModel)]="newSupportTopic.id" /></td>
              <td><input type="text" name="txtPesId" [(ngModel)]="newSupportTopic.pesId" /></td>
              <td><input type="text" name="txtSapId" [(ngModel)]="newSupportTopic.sapSupportTopicId" /></td>
              <td><input type="text" name="txtSapPesId" [(ngModel)]="newSupportTopic.sapPesId" /></td>
              <td><button class="btn btn-sm" (click)="addSupportTopic()">Add</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="form-row">
      <ng-container *ngIf="service === 'SiteService'">
        <div class="form-group col-md-3">
          <label for="appType">App Type</label>
          <ng-select #selectAppType [items]="appTypes" [multiple]="true" (change)="onAppTypeChange($event)"
            placeholder="Select App type">
          </ng-select>
        </div>
        <div class="form-group col-md-3">
          <label for="platformType">Platform Type</label>
          <ng-select #selectPlatformType [items]="platformTypes" [multiple]="true"
            (change)="onPlatformTypeChange($event)" placeholder="Select Platform type">
          </ng-select>
        </div>
        <div class="form-group col-md-3">
          <label for="stackType">Stack Type</label>
          <ng-select #selectStackType [items]="stackTypes" [multiple]="true" (change)="onStackTypeChange($event)"
            placeholder="Select Stack type">
          </ng-select>
        </div>
      </ng-container>
    </div>
  </form>

  <div #canvasId id="canvas" ngFlowchartCanvas [ngFlowchartOptions]="options" [disabled]="disabled"
    [ngFlowchartCallbacks]="callbacks"></div>
</div>