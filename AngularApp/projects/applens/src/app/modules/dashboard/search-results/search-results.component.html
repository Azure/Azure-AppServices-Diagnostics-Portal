<div class="outer-container">
  <div class="alert-container">
    <comm-alert></comm-alert>
  </div>
  <div>
    <button class="btn back-button" (click)="navigateBack()">&lt; Back</button>
  </div>
  <div *ngIf="filteredDetectorsLoaded && filterdDetectors.length>0" class="detector-list">
    <span class="span-h1">{{filterdDetectors.length}} search results for "{{searchTermDisplay}}"</span>
    <div class="flexed-detector card" *ngFor="let detector of detectors | sort: 'score': true; let i=index" tabindex=0 id="search-result-{{i}}" (click)="detectorClick(detector, i)" (keyup.enter)="detectorClick(detector, i)">
      <div class="detector-top row" (click)="detectorClick(detector, i)">
        <div class="col-md-1 detector-icon">
          <img *ngIf="detector.icon != undefined && detector.icon != ''" class="support-topic-l3-icon" src={{detector.icon}} />
          <ngx-avatar *ngIf="detector.icon == undefined || detector.icon === ''" [name]="detector.name" [round]="true" initialsSize="2"></ngx-avatar>
        </div>
        <div class="col-md-10">
          <div class="detector-name">
            {{detector.name}}
          </div>
          <div class="detector-description" (click)="detectorClick(detector, i)">
            {{detector.description}}
          </div>
        </div>
        <div class="col-md-1 detector-score">
          {{detector.score | number : '1.2-2'}}
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="filteredDetectorsLoaded && !(filterdDetectors.length>0) && !searchTermErrorDisplay" class="no-search-results">
    <span>I am sorry, I found no results matching your query!</span>
  </div>
  <div *ngIf="searchTermErrorDisplay" class="search-term-error">
    <span>Please be more descriptive, search should contain more than 3 characters...</span>
  </div>

  <div *ngIf="searchResultsFetchErrorDisplay" class="search-term-error">
    <span>{{searchResultsFetchError}}</span>
  </div>

  <div *ngIf="!filteredDetectorsLoaded" class="loading-page">
    <i class="fa fa-spinner fa-spin fa-4x fa-fw"></i>
  </div>
</div>