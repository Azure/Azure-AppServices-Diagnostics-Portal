<!-- <div style="height:80vh;">
  <openai-chat-container [chatIdentifier]="'detectorcopilot'"
      [chatContextLength]="10" 
      [chatModel] = "chatModel"
      [chatQuerySamplesFileUri]="'assets/chatConfigs/detectorcopilot.json'"
      [chatHeader]="chatHeader"
      [systemPhotoSource]="'/assets/img/bot_sparkle_icon.svg'"
      [contentDisclaimerMessage] = "contentDisclaimerMessage"
      [showCopyOption]= "true"
      [apiProtocol] = "apiProtocol"
      >
    </openai-chat-container>
</div> -->

<!-- 
<openai-chat 
[chatIdentifier]="'demo'" 
[chatHeader]="'DEMO BOT'">
</openai-chat> -->



<!-- <openai-chat-container [chatIdentifier]="'detectorcopilot'" [chatContextLength]="10" [chatModel]="chatModel"
  [chatQuerySamplesFileUri]="'assets/chatConfigs/detectorcopilot.json'" [chatHeader]="chatHeader"
  [systemPhotoSource]="'/assets/img/bot_sparkle_icon.svg'" [contentDisclaimerMessage]="contentDisclaimerMessage"
  [preprocessUserMessage]="onUserMessageSend" [showCopyOption]="true" [apiProtocol]="apiProtocol">
</openai-chat-container> -->


<fab-command-bar [contentStyle]="'solid gray;font-size:12px'" [contentClass]="'fab-command-bar-class'">
  <items>

    <fab-command-bar-item key="clearchat" text="Clear Chat" [iconProps]="{ iconName: 'EraseTool' }"
      [disabled]="_copilotService.operationInProgress" (click)="testFn()">
    </fab-command-bar-item>
    <fab-command-bar-item key="stopcalls" text="Stop" [iconProps]="{ iconName: 'stop' }"
      [disabled]="!_copilotService.operationInProgress" (click)="testFn()">
    </fab-command-bar-item>
    <fab-command-bar-item key="feedback" text="Feedback" [iconProps]="{ iconName: 'mail' }" (click)="testFn()">
    </fab-command-bar-item>

  </items>
</fab-command-bar>

<div *ngIf="this._copilotService.selectedComponent.heading && this._copilotService.selectedComponent.heading != ''"
  class="selected-component">

  <div class="selected-component-content-container">
    <div class="title-container">
      <img class="icon" [src]="this._copilotService.selectedComponent.iconSrc" />
      <div class="title">{{this._copilotService.selectedComponent.heading}}</div>
    </div>
    <div class="subheading">{{this._copilotService.selectedComponent.subheading}}</div>
    <button type="button" class="clear-selected-component" title="clear selection" data-is-visible="true"
      aria-label="clear selection" data-is-focusable="true" (click)="this._copilotService.clearComponentSelection()">
      <span>
        <i data-icon-name="Cancel" aria-hidden="true" class="ms-Icon root-89 css-164 ms-Button-icon icon-159"
          style="font-family: FabricMDL2Icons;">&#x2715;</i>
      </span>
    </button>
  </div>

</div>

<openai-chat [chatAlignment]="'left'" [chatIdentifier]="'detectorcopilot'" [chatContextLength]="6"
  [chatModel]="chatModel" [chatQuerySamplesFileUri]="'assets/chatConfigs/detectorcopilot.json'"
  [customInitialPrompt]="_copilotService.customPrompt" [apiProtocol]="apiProtocol"
  [contentDisclaimerMessage]="contentDisclaimerMessage" [quotaEnforced]="true" [chatHeader]="chatHeader"
  [systemPhotoSource]="'/assets/img/bot_sparkle_icon.svg'" [preprocessUserMessage]="onUserMessageSend"
  [postProcessSystemMessage]="onSystemMessageReceived">
</openai-chat>